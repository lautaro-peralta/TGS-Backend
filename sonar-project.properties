# SonarCloud Configuration for TGS Backend
# Documentation: https://docs.sonarcloud.io/advanced-setup/analysis-parameters/

# Project identification
sonar.projectKey=tgs-backend
sonar.organization=the-garrison-system

# Display name in SonarCloud UI
sonar.projectName=TGS Backend
sonar.projectVersion=1.0.0

# Source code location
sonar.sources=src
sonar.tests=tests
sonar.test.inclusions=tests/**/*.test.ts,tests/**/*.spec.ts

# Exclusions
sonar.exclusions=\
  **/node_modules/**,\
  **/dist/**,\
  **/coverage/**,\
  **/*.config.js,\
  **/*.config.ts,\
  **/migrations/**,\
  **/scripts/**,\
  **/__mocks__/**

sonar.coverage.exclusions=\
  **/node_modules/**,\
  **/dist/**,\
  **/tests/**,\
  **/*.config.js,\
  **/*.config.ts,\
  **/migrations/**,\
  **/scripts/**,\
  **/__mocks__/**,\
  src/server.ts,\
  src/app.ts

# Language
sonar.language=ts
sonar.sourceEncoding=UTF-8

# TypeScript/JavaScript specific settings
sonar.typescript.lcov.reportPaths=coverage/lcov.info
sonar.javascript.lcov.reportPaths=coverage/lcov.info
sonar.testExecutionReportPaths=coverage/test-report.xml

# Code analysis settings
sonar.qualitygate.wait=true
sonar.qualitygate.timeout=300

# Security settings
sonar.security.hotspots.threshold=MEDIUM
sonar.security.includeAllIssues=true

# Quality Gate thresholds
# Coverage
sonar.coverage.minimum=80

# Duplications
sonar.duplications.maximum=3

# Maintainability
sonar.maintainability.rating=A

# Reliability
sonar.reliability.rating=A

# Security
sonar.security.rating=A
sonar.security.review.rating=A

# Code Smells
sonar.code_smells.maximum=50

# Technical Debt
sonar.sqale.rating=A

# Links
sonar.links.homepage=https://github.com/your-org/TGS-Backend
sonar.links.ci=https://github.com/your-org/TGS-Backend/actions
sonar.links.scm=https://github.com/your-org/TGS-Backend
sonar.links.issue=https://github.com/your-org/TGS-Backend/issues

# Branch analysis
sonar.branch.name=${GITHUB_REF_NAME}

# Pull request analysis
sonar.pullrequest.key=${GITHUB_PR_NUMBER}
sonar.pullrequest.branch=${GITHUB_HEAD_REF}
sonar.pullrequest.base=${GITHUB_BASE_REF}

# Verbose logging (useful for debugging)
# sonar.verbose=true
